CREATE VIEW attendance_summary AS
SELECT
    reg_no,
    course_code,
    COUNT(*) AS total_sessions,
    SUM(CASE WHEN Status = 'Present' THEN 1 ELSE 0 END) AS attended_sessions,
    (SUM(CASE WHEN Status = 'Present' THEN 1 ELSE 0 END) * 100.0 / COUNT(*)) AS attendance_percentage,
    CASE
        WHEN (SUM(CASE WHEN Status = 'Present' THEN 1 ELSE 0 END) * 100.0 / COUNT(*)) >= 80 THEN 'Eligible'
        ELSE 'Not Eligible'
    END AS eligibility
FROM
    ATTENDANCE
GROUP BY
    reg_no, course_code;


To get the output of the attendance_summary view in MySQL, you can use a SELECT query to retrieve the data from the view. Hereâ€™s how you can do it:


SELECT * FROM attendance_summary;


This will display all columns from the attendance_summary view, including reg_no, course_code, total_sessions, attended_sessions, attendance_percentage, and eligibility.

If you want to filter results (e.g., by a specific reg_no or course_code), you can add a WHERE clause like this:



SELECT * FROM attendance_summary
WHERE reg_no = 'TG/2022/001';

Or, to view results for a specific course:



SELECT * FROM attendance_summary
WHERE course_code = 'ICT1233';


This will give you tailored output based on the criteria specified in the WHERE clause.
